(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),s=a.n(r),o=(a(55),a(56),a(8)),i=a(7),l=a(9),d=a(16),u=a(10),j=a(11),b=a(13),h=a(12),p=a(14),O=a.n(p),m=function(e){e?O.a.defaults.headers.common.authenticated=e:delete O.a.defaults.headers.common.authenticated},g=a(49),x=function(e){return{type:"ON_LOGIN_SUCCESS",payload:e}},f=function(e){return{type:"ON_LOGIN_FAILURE",payload:e}},y=function(){return{type:"ON_LOGOUT_SUCCESS"}},v=a(0),C=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onHandleChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=e.state,a={name:t.name,email:t.email,password:t.password,gender:t.gender};e.props.onRegister(a,e.props.history)},e.state={name:"",email:"",password:"",gender:""},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password;e.gender;return Object(v.jsx)("div",{className:"container  mt-5",children:Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsxs)("div",{className:"col-md-8 card p-5",children:[Object(v.jsx)("h1",{className:"text text-center",children:"Admin Registration"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Name:"}),Object(v.jsx)("input",{type:"text",name:"name",className:"form-control",value:t,onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Eamil:"}),Object(v.jsx)("input",{type:"text",name:"email",className:"form-control",value:a,onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Password:"}),Object(v.jsx)("input",{type:"text",name:"password",className:"form-control",value:n,onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Gender:"}),Object(v.jsx)("input",{type:"radio",name:"gender",className:"form-control-check",onChange:this.onHandleChange,value:"male"}),"Male",Object(v.jsx)("input",{type:"radio",name:"gender",className:"form-control-check",onChange:this.onHandleChange,value:"female"}),"Female"]}),Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("button",{onClick:this.onSubmit,className:"btn btn-primary",children:"Register"}),Object(v.jsxs)("p",{children:["Already Registered User ",Object(v.jsx)(l.b,{to:"/login",children:"Click Here"})," To Login"]})]})]})})})}}]),a}(n.Component),N=Object(o.b)(null,{onRegister:function(e,t){return function(a){O.a.post("http://localhost:5000/register",e).then((function(e){200==e.status?t.push("/login"):t.push("/")})).catch((function(e){console.log(e)}))}}})(Object(i.g)(C)),S=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onHandleChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=e.state,a={email:t.email,password:t.password};e.props.onLogin(a,e.props.history)},e.state={email:"",password:""},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=this.props.auth.error;return Object(v.jsx)("div",{className:"container mt-5",children:Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsxs)("div",{className:"col-md-8 card p-5",children:[Object(v.jsx)("h1",{className:"text text-center",children:"Admin Login"}),n?Object(v.jsx)("p",{class:"text-danger",children:n}):null,Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Email:"}),Object(v.jsx)("input",{type:"text",name:"email",className:"form-control",value:t,onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Password:"}),Object(v.jsx)("input",{type:"text",name:"password",className:"form-control",value:a,onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("button",{onClick:this.onSubmit,className:"btn btn-primary",children:"Login"}),Object(v.jsxs)("p",{children:["Not a Registered User ",Object(v.jsx)(l.b,{to:"/",children:"Click Here"})," To Register First"]})]})]})})})}}]),a}(n.Component),E=Object(o.b)((function(e){return{auth:e.auth}}),{onLogin:function(e,t){return function(a){O.a.post("http://localhost:5000/login",e).then((function(e){if(console.log(e),200==e.status){m(e.data.token);var n=Object(g.a)(e.data.token);console.log(n),localStorage.setItem("user",n),a(x(n)),t.push("/dashboard")}})).catch((function(e){console.log(e),a(f(e.response.data.msg))}))}}})(Object(i.g)(S)),I=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{children:"Dashboard"})}}]),a}(n.Component),_=a(23),A=a(50),U=a(3),F={isAuthenticated:!1,user:{},error:null,success:null},T={categories:null,error:null,success:null,dataState:"NOT_INITIALIZED"},D={products:null,error:null,success:null,dataState:"NOT_INITIALIZED"},L=Object(_.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_LOGIN_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{isAuthenticated:!0,user:t.payload,success:!0});case"ON_LOGIN_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{user:{},isAuthenticated:!1,error:t.payload});case"ON_LOGOUT_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{user:{},isAuthenticated:!1});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{success:t.payload});case"ADD_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"FETCHING":return Object(U.a)(Object(U.a)({},e),{},{dataState:"FETCHING"});case"FETCH_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{categories:t.payload,dataState:"FETCHED_SUCCESSFULLY"});case"FETCH_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"DELETE_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{success:t.payload});case"DELETE_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"UPDATE_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{success:t.payload});case"UPDATE_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{success:t.payload});case"ADD_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"FETCHING":return Object(U.a)(Object(U.a)({},e),{},{dataState:"FETCHING"});case"FETCH_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{products:t.payload,dataState:"FETCHED_SUCCESSFULLY"});case"FETCH_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"DELETE_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{success:t.payload});case"DELETE_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"UPDATE_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{success:t.payload});case"UPDATE_FAILURE":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});default:return e}}}),w=[A.a],k=Object(_.e)(L,{},Object(_.d)(_.a.apply(void 0,w),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),P=a(91),H=a(92),R=a(96),G=a(93),M=a(94),Z=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.logoutUser=function(){n.props.onLogout(n.props.history)},n.state={isOpen:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.isOpen;return Object(v.jsx)("div",{className:"mb-5",children:Object(v.jsxs)(P.a,{color:"light",light:!0,expand:"md",children:[Object(v.jsx)(H.a,{onClick:this.toggle}),Object(v.jsx)(R.a,{isOpen:e,navbar:!0,children:Object(v.jsxs)(G.a,{className:"mr-auto",navbar:!0,children:[Object(v.jsx)(M.a,{children:Object(v.jsx)(l.b,{className:"nav-link",to:"/dashboard/",children:"Dashboard"})}),Object(v.jsx)(M.a,{children:Object(v.jsx)(l.b,{className:"nav-link",to:"/add-category/",children:"Add Category"})}),Object(v.jsx)(M.a,{children:Object(v.jsx)(l.b,{className:"nav-link",to:"/view-category/",children:"View Category"})}),Object(v.jsx)(M.a,{children:Object(v.jsx)(l.b,{className:"nav-link",to:"/add-product/",children:"Add Product"})}),Object(v.jsx)(M.a,{children:Object(v.jsx)(l.b,{className:"nav-link",to:"/view-product/",children:"View Product"})}),Object(v.jsx)(M.a,{children:Object(v.jsx)("button",{className:"btn btn-info",onClick:this.logoutUser,children:"Logout"})})]})})]})})}}]),a}(n.Component),V=Object(o.b)(null,{onLogout:function(e){return function(t){m(),localStorage.removeItem("user"),t(y()),e.push("/login")}}})(Object(i.g)(Z)),X=function(){return function(e){e(W),O.a.get("http://localhost:5000/viewCategory").then((function(t){200==t.status?e(Y(t.data)):e(q(t.data.msg))})).catch((function(e){console.log(e)}))}},B=function(e){return{type:"ADD_SUCCESS",payload:e}},J=function(e){return{type:"ADD_FAILURE",payload:e}},W=function(){return{type:"FETCHING"}},Y=function(e){return{type:"FETCH_SUCCESS",payload:e}},q=function(e){return{type:"FETCH_FAILURE",payload:e}},z=function(e){return{type:"DELETE_SUCCESS",payload:e}},K=function(e){return{type:"DELETE_FAILURE",payload:e}},Q=function(e){return{type:"UPDATE_SUCCESS",payload:e}},$=function(e){return{type:"UPDATE_FAILURE",payload:e}},ee=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).onHandleChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(){console.log(n.state);var e={categoryName:n.state.categoryName};n.props.addCategory(e)},n.state={categoryName:""},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.categoryName,t=this.props.categories,a=t.success,n=t.error;return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsxs)("div",{className:"col-md-6 card p-5",children:[Object(v.jsx)("h1",{className:"text-center text-info",children:"Add Category"}),a?Object(v.jsx)("p",{className:"text-success",children:a}):"",n?Object(v.jsx)("p",{className:"text-danger",children:n}):"",Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Category Name"}),Object(v.jsx)("input",{type:"text",name:"categoryName",className:"form-control",value:e,onChange:this.onHandleChange})]}),Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)("button",{className:"btn btn-info",onClick:this.onSubmit,children:"Add Category"})})]})})})}}]),a}(n.Component),te=Object(o.b)((function(e){return{categories:e.categories}}),{addCategory:function(e){return console.log(e),function(t){O.a.post("http://localhost:5000/saveCategory",e).then((function(e){200==e.status?t(B(e.data.msg)):t(J(e.data.msg))})).catch((function(e){console.log(e)}))}}})(Object(i.g)(ee)),ae=a(20),ne=a.n(ae),ce=a(22),re=a(95),se=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).getAllCategories=function(){n.props.onFetchCategories()},n.deleteCategory=function(){var e=Object(ce.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.onDeleteCategories(t);case 2:e.sent&&n.getAllCategories();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getAllCategories()}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.categories.categories,a=this.props.categories,n=a.success,c=a.error;return"FETCHING"==this.props.categories.dataState||"NOT_INITIALIZED"==this.props.categories.dataState?Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(re.a,{color:"primary"})}):Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-md-8",children:[n?Object(v.jsx)("p",{className:"text-success",children:n}):"",c?Object(v.jsx)("p",{className:"text-danger",children:c}):"",Object(v.jsxs)("table",{className:"table table-bordered",children:[Object(v.jsx)("thead",{className:"table-dark",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"S. No"}),Object(v.jsx)("th",{children:"Category Name"}),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:t.map((function(t,a){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:a+1}),Object(v.jsx)("td",{children:t.categoryName}),Object(v.jsxs)("td",{children:[Object(v.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return e.deleteCategory(t._id)},children:"Delete"}),Object(v.jsx)(l.b,{className:"btn btn-success btn-sm",to:"/edit-category/".concat(t._id),children:"Edit"})]})]},a)}))})]})]})})})}}]),a}(n.Component),oe=Object(o.b)((function(e){return{categories:e.categories}}),{onFetchCategories:X,onDeleteCategories:function(e){return function(t){return O.a.get("http://localhost:5000/deleteCategory/"+e).then((function(e){return 200==e.status?(t(z(e.data.msg)),console.log("Success"),!0):(t(K(e.data.msg)),console.log("Failure"),!1)})).catch((function(e){return console.log(e),console.log("Failure"),!1}))}}})(Object(i.g)(se)),ie=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),console.log("Edit Cat"),(n=t.call(this,e)).getSingleCategory=function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchSingleCategory(t);case 2:a=e.sent,n.setState({categoryName:a.categoryName});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onHandleChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(){console.log(n.state);var e={id:n.state.id,categoryName:n.state.categoryName};n.props.onUpdateCategory(e,n.props.history)};var c=n.props.match.params.id;return n.state={id:c,categoryName:""},n.getSingleCategory(c),n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.categoryName,a=e.id;return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsxs)("div",{className:"col-md-6 card p-5",children:[Object(v.jsx)("h1",{className:"text-center text-info",children:"Edit Category"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Category Name"}),Object(v.jsx)("input",{type:"text",name:"categoryName",className:"form-control",value:t,onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("input",{type:"hidden",name:"id",className:"form-control",value:a}),Object(v.jsx)("button",{className:"btn btn-info",onClick:this.onSubmit,children:"Update Category"})]})]})})})}}]),a}(n.Component),le=Object(o.b)(null,{fetchSingleCategory:function(e){return function(t){return O.a.get("http://localhost:5000/editCategory/"+e).then((function(e){return 200==e.status&&e.data})).catch((function(e){return console.log(e),!1}))}},onUpdateCategory:function(e,t){return function(a){O.a.post("http://localhost:5000/updateCategory",e).then((function(e){200==e.status?(a(Q(e.data.msg)),t.push("/view-category")):(a($(e.data.msg)),t.push("/view-category"))})).catch((function(e){a($())}))}}})(Object(i.g)(ie)),de=a(28),ue=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(de.a)(e,["component","auth"]);return Object(v.jsx)(i.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return!0===a.isAuthenticated?Object(v.jsx)(t,Object(U.a)({},e)):Object(v.jsx)(i.a,{to:"/login"})}}))})),je=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(de.a)(e,["component","auth"]);return Object(v.jsx)(i.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return!1===a.isAuthenticated?Object(v.jsx)(t,Object(U.a)({},e)):Object(v.jsx)(i.a,{to:"/dashboard"})}}))})),be=function(e){return{type:"ADD_SUCCESS",payload:e}},he=function(e){return{type:"ADD_FAILURE",payload:e}},pe=function(){return{type:"FETCHING"}},Oe=function(e){return{type:"FETCH_SUCCESS",payload:e}},me=function(e){return{type:"FETCH_FAILURE",payload:e}},ge=function(e){return{type:"DELETE_SUCCESS",payload:e}},xe=function(e){return{type:"DELETE_FAILURE",payload:e}},fe=function(e){return{type:"UPDATE_SUCCESS",payload:e}},ye=function(e){return{type:"UPDATE_FAILURE",payload:e}},ve=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onHandleChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=n.state,t={name:e.name,categoryId:e.categoryId};n.props.onAddProduct(t),n.setState({name:"",categoryId:""})},n.state={name:"",categoryId:""},n}return Object(j.a)(a,[{key:"componentWillMount",value:function(){this.props.onFetchCategories()}},{key:"render",value:function(){var e=this.state,t=e.name,a=(e.categoryId,this.props.categories),n=this.props.products,c=n.success,r=n.error;return"FETCHING"==this.props.categories.dataState||"NOT_INITIALIZED"==this.props.categories.dataState?Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(re.a,{color:"primary"})}):Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsxs)("div",{className:"col-md-6 card p-5",children:[Object(v.jsx)("h1",{className:"text-center text-info",children:"Add Product"}),c?Object(v.jsx)("p",{className:"text-success",children:c}):"",r?Object(v.jsx)("p",{className:"text-danger",children:r}):"",Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"text",name:"name",value:t,className:"form-control",onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Category"}),Object(v.jsxs)("select",{name:"categoryId",value:"",onChange:this.onHandleChange,className:"form-control",children:[Object(v.jsx)("option",{children:"--select Category--"}),a.categories.map((function(e,t){return Object(v.jsx)("option",{value:e._id,children:e.categoryName},t)}))]})]}),Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)("button",{className:"btn btn-info",onClick:this.onSubmit,children:"Add Product"})})]})})})}}]),a}(n.Component),Ce=Object(o.b)((function(e){return{categories:e.categories,products:e.products}}),{onFetchCategories:X,onAddProduct:function(e){var t=new FormData;return t.append("name",e.name),t.append("categoryId",e.categoryId),function(e){O.a.post("http://localhost:5000/saveProduct",t).then((function(t){200==t.status?e(be(t.data.msg)):e(he(t.data.msg))})).catch((function(e){console.log(e)}))}}})(Object(i.g)(ve)),Ne=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).getAllProducts=function(){n.props.onFetchProduct()},n.deleteProduct=function(){var e=Object(ce.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.onDeleteProducts(t);case 2:e.sent&&n.getAllProducts();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(j.a)(a,[{key:"componentWillMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){var e=this,t=this.props.products.products,a=this.props.products,n=a.success,c=a.error;return"FETCHING"==this.props.products.dataState||"NOT_INITIALIZED"==this.props.products.dataState?Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(re.a,{color:"primary"})}):Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"row",children:[n?Object(v.jsx)("p",{className:"text-success",children:n}):"",c?Object(v.jsx)("p",{className:"text-danger",children:c}):"",Object(v.jsxs)("table",{className:"table table-bordered",children:[Object(v.jsx)("thead",{className:"tbale-dark",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"ProductId"}),Object(v.jsx)("th",{children:"ProductName"}),Object(v.jsx)("th",{children:"CategoryName"}),Object(v.jsx)("th",{children:"CategoryId"})]})}),Object(v.jsx)("tbody",{children:t.map((function(t,a){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:a+1}),Object(v.jsx)("td",{children:t.name}),Object(v.jsx)("td",{children:t.categoryId.categoryName}),Object(v.jsx)("td",{children:t.categoryId._id}),Object(v.jsxs)("td",{children:[Object(v.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return e.deleteProduct(t._id)},children:"Delete"}),Object(v.jsx)(l.b,{className:"btn btn-success btn-sm",to:"/edit-product/".concat(t._id),children:"Edit"})]})]},a)}))})]})]})})}}]),a}(n.Component),Se=Object(o.b)((function(e){return{products:e.products}}),{onFetchProduct:function(){return function(e){e(pe),O.a.get("http://localhost:5000/viewProduct").then((function(t){200==t.status?e(Oe(t.data)):e(me(t.data.msg))})).catch((function(e){console.log(e)}))}},onDeleteProducts:function(e){return function(t){return O.a.get("http://localhost:5000/deleteProduct/"+e).then((function(e){return 200==e.status?(t(ge(e.data.msg)),console.log("Success"),!0):(t(xe(e.data.msg)),console.log("Failure"),!1)})).catch((function(e){return console.log(e),console.log("Failure"),!1}))}}})(Object(i.g)(Ne)),Ee=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).getSingleProduct=function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchSingleProduct(t);case 2:a=e.sent,console.log(a),n.setState({name:a.name,categoryId:a.categoryId});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onHandleChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=n.state,t={name:e.name,categoryId:e.categoryId,id:e.id};n.props.onUpdateProduct(t,n.props.history)};var c=n.props.match.params.id;return n.state={id:c,name:"",categoryId:""},n.getSingleProduct(c),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchCategories()}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.categoryId,n=e.id,c=this.props.categories,r=this.props.products,s=r.success,o=r.error;return"FETCHING"==this.props.categories.dataState||"NOT_INITIALIZED"==this.props.categories.dataState?Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(re.a,{color:"primary"})}):Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsxs)("div",{className:"col-md-6 card p-5",children:[Object(v.jsx)("h1",{className:"text-center text-info",children:"Edit Product"}),s?Object(v.jsx)("p",{className:"text-success",children:s}):"",o?Object(v.jsx)("p",{className:"text-danger",children:o}):"",Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"text",name:"name",value:t,className:"form-control",onChange:this.onHandleChange})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Category"}),Object(v.jsxs)("select",{value:a,name:"categoryId",onChange:this.onHandleChange,className:"form-control",children:[Object(v.jsx)("option",{children:"--select Category--"}),c.categories.map((function(e,t){return Object(v.jsx)("option",{value:e._id,children:e.categoryName},t)}))]})]}),Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("input",{type:"hidden",name:"id",value:n}),Object(v.jsx)("button",{className:"btn btn-info",onClick:this.onSubmit,children:"Update Product"})]})]})})})}}]),a}(n.Component),Ie=Object(o.b)((function(e){return{categories:e.categories,products:e.products}}),{fetchSingleProduct:function(e){return function(t){return O.a.get("http://localhost:5000/editProduct/"+e).then((function(e){return 200==e.status&&e.data})).catch((function(e){return console.log(e),!1}))}},onUpdateProduct:function(e,t){var a=new FormData;return a.append("name",e.name),a.append("categoryId",e.categoryId),a.append("id",e.id),function(e){O.a.post("http://localhost:5000/updateProduct",a).then((function(a){200==a.status?(e(fe(a.data.msg)),t.push("/view-product")):(e(ye(a.data.msg)),t.push("/view-product"))})).catch((function(t){e(ye())}))}},onFetchCategories:X})(Object(i.g)(Ee));var _e=function(){var e=localStorage.getItem("user");e&&(m(e),k.dispatch(x(e)));var t=Object(i.g)((function(e){var t=e.location;return Object(v.jsxs)("div",{children:["/"!==t.pathname&&"/login"!=t.pathname&&Object(v.jsx)(V,{}),Object(v.jsxs)(i.d,{children:[Object(v.jsx)(je,{exact:!0,path:"/",component:N}),Object(v.jsx)(je,{exact:!0,path:"/login",component:E}),Object(v.jsx)(ue,{exact:!0,path:"/dashboard",component:I}),Object(v.jsx)(ue,{exact:!0,path:"/add-category",component:te}),Object(v.jsx)(ue,{exact:!0,path:"/view-category",component:oe}),Object(v.jsx)(ue,{exact:!0,path:"/edit-category/:id",component:le}),Object(v.jsx)(ue,{exact:!0,path:"/add-product",component:Ce}),Object(v.jsx)(ue,{exact:!0,path:"/view-product",component:Se}),Object(v.jsx)(ue,{exact:!0,path:"/edit-product/:id",component:Ie})]})]})}));return Object(v.jsx)(o.a,{store:k,children:Object(v.jsx)(l.a,{children:Object(v.jsx)(t,{})})})},Ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(89);s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(_e,{})}),document.getElementById("root")),Ae()}},[[90,1,2]]]);
//# sourceMappingURL=main.a8a3719a.chunk.js.map